"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[314],{97959:function(t,e,n){var i=n(48166),s=(n(71941),n(91493)),r=n(37958),o=n(98188),h=n(19700);function f(t){return t&&"object"===typeof t&&"default"in t?t:{default:t}}var u=f(i),a=f(r),l=f(o);const p=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];function c(t,e){return e&&10!=e?16==e?"0x"==t.slice(0,2)?BigInt(t):BigInt("0x"+t):void 0:BigInt(t)}const m=c;function g(t,e){return BigInt(t)<<BigInt(e)}function b(t,e){return BigInt(t)>>BigInt(e)}const d=g,y=b;var w=Object.freeze({__proto__:null,fromString:c,e:m,fromArray:function(t,e){let n=BigInt(0);e=BigInt(e);for(let i=0;i<t.length;i++)n=n*e+BigInt(t[i]);return n},bitLength:function(t){const e=t.toString(16);return 4*(e.length-1)+p[parseInt(e[0],16)]},isNegative:function(t){return BigInt(t)<BigInt(0)},isZero:function(t){return!t},shiftLeft:g,shiftRight:b,shl:d,shr:y,isOdd:function(t){return(BigInt(t)&BigInt(1))==BigInt(1)},naf:function(t){let e=BigInt(t);const n=[];for(;e;){if(e&BigInt(1)){const t=2-Number(e%BigInt(4));n.push(t),e-=BigInt(t)}else n.push(0);e>>=BigInt(1)}return n},bits:function(t){let e=BigInt(t);const n=[];for(;e;)e&BigInt(1)?n.push(1):n.push(0),e>>=BigInt(1);return n},toNumber:function(t){if(t>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("Number too big");return Number(t)},toArray:function(t,e){const n=[];let i=BigInt(t);for(e=BigInt(e);i;)n.unshift(Number(i%e)),i/=e;return n},add:function(t,e){return BigInt(t)+BigInt(e)},sub:function(t,e){return BigInt(t)-BigInt(e)},neg:function(t){return-BigInt(t)},mul:function(t,e){return BigInt(t)*BigInt(e)},square:function(t){return BigInt(t)*BigInt(t)},pow:function(t,e){return BigInt(t)**BigInt(e)},exp:function(t,e){return BigInt(t)**BigInt(e)},abs:function(t){return BigInt(t)>=0?BigInt(t):-BigInt(t)},div:function(t,e){return BigInt(t)/BigInt(e)},mod:function(t,e){return BigInt(t)%BigInt(e)},eq:function(t,e){return BigInt(t)==BigInt(e)},neq:function(t,e){return BigInt(t)!=BigInt(e)},lt:function(t,e){return BigInt(t)<BigInt(e)},gt:function(t,e){return BigInt(t)>BigInt(e)},leq:function(t,e){return BigInt(t)<=BigInt(e)},geq:function(t,e){return BigInt(t)>=BigInt(e)},band:function(t,e){return BigInt(t)&BigInt(e)},bor:function(t,e){return BigInt(t)|BigInt(e)},bxor:function(t,e){return BigInt(t)^BigInt(e)},land:function(t,e){return BigInt(t)&&BigInt(e)},lor:function(t,e){return BigInt(t)||BigInt(e)},lnot:function(t){return!BigInt(t)}});function v(t,e){return"string"==typeof t&&"0x"==t.slice(0,2)?u.default(t.slice(2),16):u.default(t,e)}const F=v;function L(t,e){return u.default(t).shiftLeft(e)}function O(t,e){return u.default(t).shiftRight(e)}const B=L,A=O;var _=Object.freeze({__proto__:null,fromString:v,e:F,fromArray:function(t,e){return u.default.fromArray(t,e)},bitLength:function(t){return u.default(t).bitLength()},isNegative:function(t){return u.default(t).isNegative()},isZero:function(t){return u.default(t).isZero()},shiftLeft:L,shiftRight:O,shl:B,shr:A,isOdd:function(t){return u.default(t).isOdd()},naf:function(t){let e=u.default(t);const n=[];for(;e.gt(u.default.zero);){if(e.isOdd()){const t=2-e.mod(4).toJSNumber();n.push(t),e=e.minus(t)}else n.push(0);e=e.shiftRight(1)}return n},bits:function(t){let e=u.default(t);const n=[];for(;e.gt(u.default.zero);)e.isOdd()?n.push(1):n.push(0),e=e.shiftRight(1);return n},toNumber:function(t){if(!t.lt(u.default("9007199254740992",10)))throw new Error("Number too big");return t.toJSNumber()},toArray:function(t,e){return u.default(t).toArray(e)},add:function(t,e){return u.default(t).add(u.default(e))},sub:function(t,e){return u.default(t).minus(u.default(e))},neg:function(t){return u.default.zero.minus(u.default(t))},mul:function(t,e){return u.default(t).times(u.default(e))},square:function(t){return u.default(t).square()},pow:function(t,e){return u.default(t).pow(u.default(e))},exp:function(t,e){return u.default(t).pow(u.default(e))},abs:function(t){return u.default(t).abs()},div:function(t,e){return u.default(t).divide(u.default(e))},mod:function(t,e){return u.default(t).mod(u.default(e))},eq:function(t,e){return u.default(t).eq(u.default(e))},neq:function(t,e){return u.default(t).neq(u.default(e))},lt:function(t,e){return u.default(t).lt(u.default(e))},gt:function(t,e){return u.default(t).gt(u.default(e))},leq:function(t,e){return u.default(t).leq(u.default(e))},geq:function(t,e){return u.default(t).geq(u.default(e))},band:function(t,e){return u.default(t).and(u.default(e))},bor:function(t,e){return u.default(t).or(u.default(e))},bxor:function(t,e){return u.default(t).xor(u.default(e))},land:function(t,e){return!u.default(t).isZero()&&!u.default(e).isZero()},lor:function(t,e){return!u.default(t).isZero()||!u.default(e).isZero()},lnot:function(t){return u.default(t).isZero()}});const q="function"===typeof BigInt;let E={};q?Object.assign(E,w):Object.assign(E,_),E.toRprLE=function(t,e,n,i){const s="0000000"+n.toString(16),r=new Uint32Array(t.buffer,e,i/4),o=1+(4*(s.length-7)-1>>5);for(let h=0;h<o;h++)r[h]=parseInt(s.substring(s.length-8*h-8,s.length-8*h),16);for(let h=o;h<r.length;h++)r[h]=0;for(let h=4*r.length;h<i;h++)t[h]=E.toNumber(E.band(E.shiftRight(n,8*h),255))},E.toRprBE=function(t,e,n,i){const s="0000000"+n.toString(16),r=new DataView(t.buffer,t.byteOffset+e,i),o=1+(4*(s.length-7)-1>>5);for(let h=0;h<o;h++)r.setUint32(i-4*h-4,parseInt(s.substring(s.length-8*h-8,s.length-8*h),16),!1);for(let h=0;h<i/4-o;h++)r[h]=0},E.fromRprLE=function(t,e,n){n=n||t.byteLength,e=e||0;const i=new Uint32Array(t.buffer,e,n/4),s=new Array(n/4);return i.forEach(((t,e)=>s[s.length-e-1]=t.toString(16).padStart(8,"0"))),E.fromString(s.join(""),16)},E.fromRprBE=function(t,e,n){n=n||t.byteLength,e=e||0;const i=new DataView(t.buffer,t.byteOffset+e,n),s=new Array(n/4);for(let r=0;r<n/4;r++)s[r]=i.getUint32(4*r,!1).toString(16).padStart(8,"0");return E.fromString(s.join(""),16)},E.toString=function(t,e){return t.toString(e)},E.toLEBuff=function(t){const e=new Uint8Array(Math.floor((E.bitLength(t)-1)/8)+1);return E.toRprLE(e,0,t,e.byteLength),e},E.zero=E.e(0),E.one=E.e(1);let{toRprLE:x,toRprBE:I,fromRprLE:S,fromRprBE:z,toString:G,toLEBuff:M,zero:T,one:U,fromString:R,e:C,fromArray:N,bitLength:j,isNegative:k,isZero:$,shiftLeft:P,shiftRight:Z,shl:J,shr:D,isOdd:Q,naf:W,bits:V,toNumber:K,toArray:X,add:H,sub:Y,neg:tt,mul:et,square:nt,pow:it,exp:st,abs:rt,div:ot,mod:ht,eq:ft,neq:ut,lt:at,gt:lt,leq:pt,geq:ct,band:mt,bor:gt,bxor:bt,land:dt,lor:yt,lnot:wt}=E;var vt=Object.freeze({__proto__:null,toRprLE:x,toRprBE:I,fromRprLE:S,fromRprBE:z,toString:G,toLEBuff:M,zero:T,one:U,fromString:R,e:C,fromArray:N,bitLength:j,isNegative:k,isZero:$,shiftLeft:P,shiftRight:Z,shl:J,shr:D,isOdd:Q,naf:W,bits:V,toNumber:K,toArray:X,add:H,sub:Y,neg:tt,mul:et,square:nt,pow:it,exp:st,abs:rt,div:ot,mod:ht,eq:ft,neq:ut,lt:at,gt:lt,leq:pt,geq:ct,band:mt,bor:gt,bxor:bt,land:dt,lor:yt,lnot:wt});function Ft(t){return(0!==(4294901760&t)?(t&=4294901760,16):0)|(0!==(4278255360&t)?(t&=4278255360,8):0)|(0!==(4042322160&t)?(t&=4042322160,4):0)|(0!==(3435973836&t)?(t&=3435973836,2):0)|0!==(2863311530&t)}function Lt(t,e,n,i,s){const r=1<<n;if(1==r)return[e[i]];if(2==r)return[t.F.add(e[i],e[i+s]),t.F.sub(e[i],e[i+s])];const o=r>>1,h=Lt(t,e,n-1,i,2*s),f=Lt(t,e,n-1,i+s,2*s),u=new Array(r);for(let a=0;a<o;a++)u[a]=t.F.add(h[a],t.F.mul(t.roots[n][a],f[a])),u[a+o]=t.F.sub(h[a],t.F.mul(t.roots[n][a],f[a]));return u}function Ot(t,e,n){const i=1<<n;if(1==i)return[e[0]];const s=i>>1,r=Ot(t,e.slice(0,s),n-1),o=Ot(t,e.slice(s),n-1),h=new Array(i);for(let f=0;f<s;f++)h[f]=t.F.add(r[f],t.F.mul(t.roots[n][f],o[f])),h[f+s]=t.F.sub(r[f],t.F.mul(t.roots[n][f],o[f]));return h}const Bt=[];for(let Ue=0;Ue<256;Ue++)Bt[Ue]=At(Ue,8);function At(t,e){let n=0,i=t;for(let s=0;s<e;s++)n<<=1,n|=1&i,i>>=1;return n}function _t(t,e){return(Bt[t>>>24]|Bt[t>>>16&255]<<8|Bt[t>>>8&255]<<16|Bt[255&t]<<24)>>>32-e}function qt(t,e){for(let n=0;n<t.length;n++){const i=_t(n,e);if(i>n){const e=t[n];t[n]=t[i],t[i]=e}}}function Et(t,e,n){let i;if($(n))return t.zero;const s=W(n);if(1==s[s.length-1])i=e;else{if(-1!=s[s.length-1])throw new Error("invlaud NAF");i=t.neg(e)}for(let r=s.length-2;r>=0;r--)i=t.double(i),1==s[r]?i=t.add(i,e):-1==s[r]&&(i=t.sub(i,e));return i}function xt(t,e,n){if($(n))return t.one;const i=V(n);if(0==i.length)return t.one;let s=e;for(let r=i.length-2;r>=0;r--)s=t.square(s),i[r]&&(s=t.mul(s,e));return s}function It(t){if(t.m%2==1)if(ft(ht(t.p,4),1))if(ft(ht(t.p,8),1))if(ft(ht(t.p,16),1))!function(t){t.sqrt_q=it(t.p,t.m),t.sqrt_s=0,t.sqrt_t=Y(t.sqrt_q,1);for(;!Q(t.sqrt_t);)t.sqrt_s=t.sqrt_s+1,t.sqrt_t=ot(t.sqrt_t,2);let e=t.one;for(;t.eq(e,t.one);){const n=t.random();t.sqrt_z=t.pow(n,t.sqrt_t),e=t.pow(t.sqrt_z,2**(t.sqrt_s-1))}t.sqrt_tm1d2=ot(Y(t.sqrt_t,1),2),t.sqrt=function(t){const e=this;if(e.isZero(t))return e.zero;let n=e.pow(t,e.sqrt_tm1d2);const i=e.pow(e.mul(e.square(n),t),2**(e.sqrt_s-1));if(e.eq(i,e.negone))return null;let s=e.sqrt_s,r=e.mul(t,n),o=e.mul(r,n),h=e.sqrt_z;for(;!e.eq(o,e.one);){let t=e.square(o),i=1;for(;!e.eq(t,e.one);)t=e.square(t),i++;n=h;for(let r=0;r<s-i-1;r++)n=e.square(n);h=e.square(n),o=e.mul(o,h),r=e.mul(r,n),s=i}return e.geq(r,e.zero)?r:e.neg(r)}}(t);else{if(!ft(ht(t.p,16),9))throw new Error("Field withot sqrt");!function(t){t.sqrt=function(){throw new Error("Sqrt alg 4 not implemented")}}(t)}else{if(!ft(ht(t.p,8),5))throw new Error("Field withot sqrt");!function(t){t.sqrt=function(){throw new Error("Sqrt alg 3 not implemented")}}(t)}else ft(ht(t.p,4),3)&&function(t){t.sqrt_q=it(t.p,t.m),t.sqrt_e1=ot(Y(t.sqrt_q,3),4),t.sqrt=function(e){if(this.isZero(e))return this.zero;const n=this.pow(e,this.sqrt_e1),i=this.mul(this.square(n),e);if(this.eq(i,this.negone))return null;const s=this.mul(n,e);return t.geq(s,t.zero)?s:t.neg(s)}}(t);else{const e=ht(it(t.p,t.m/2),4);1==e?function(t){t.sqrt=function(){throw new Error("Sqrt alg 10 not implemented")}}(t):3==e?function(t){t.sqrt_q=it(t.p,t.m/2),t.sqrt_e34=ot(Y(t.sqrt_q,3),4),t.sqrt_e12=ot(Y(t.sqrt_q,1),2),t.frobenius=function(e,n){return e%2==1?t.conjugate(n):n},t.sqrt=function(t){const e=this,n=e.pow(t,e.sqrt_e34),i=e.mul(e.square(n),t),s=e.mul(e.frobenius(1,i),i);if(e.eq(s,e.negone))return null;const r=e.mul(n,t);let o;if(e.eq(i,e.negone))o=e.mul(r,[e.F.zero,e.F.one]);else{const t=e.pow(e.add(e.one,i),e.sqrt_e12);o=e.mul(t,r)}return e.geq(o,e.zero)?o:e.neg(o)}}(t):function(t){t.sqrt=function(){throw new Error("Sqrt alg 8 not implemented")}}(t)}}function St(t,e,n,i,s){t[e]=t[e]+t[n]>>>0,t[s]=(t[s]^t[e])>>>0,t[s]=(t[s]<<16|t[s]>>>16&65535)>>>0,t[i]=t[i]+t[s]>>>0,t[n]=(t[n]^t[i])>>>0,t[n]=(t[n]<<12|t[n]>>>20&4095)>>>0,t[e]=t[e]+t[n]>>>0,t[s]=(t[s]^t[e])>>>0,t[s]=(t[s]<<8|t[s]>>>24&255)>>>0,t[i]=t[i]+t[s]>>>0,t[n]=(t[n]^t[i])>>>0,t[n]=(t[n]<<7|t[n]>>>25&127)>>>0}class zt{constructor(t){t=t||[0,0,0,0,0,0,0,0],this.state=[1634760805,857760878,2036477234,1797285236,t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],0,0,0,0],this.idx=16,this.buff=new Array(16)}nextU32(){return 16==this.idx&&this.update(),this.buff[this.idx++]}nextU64(){return H(et(this.nextU32(),4294967296),this.nextU32())}nextBool(){return 1==(1&this.nextU32())}update(){for(let e=0;e<16;e++)this.buff[e]=this.state[e];for(let e=0;e<10;e++)St(t=this.buff,0,4,8,12),St(t,1,5,9,13),St(t,2,6,10,14),St(t,3,7,11,15),St(t,0,5,10,15),St(t,1,6,11,12),St(t,2,7,8,13),St(t,3,4,9,14);var t;for(let e=0;e<16;e++)this.buff[e]=this.buff[e]+this.state[e]>>>0;this.idx=0,this.state[12]=this.state[12]+1>>>0,0==this.state[12]&&(this.state[13]=this.state[13]+1>>>0,0==this.state[13]&&(this.state[14]=this.state[14]+1>>>0,0==this.state[14]&&(this.state[15]=this.state[15]+1>>>0)))}}function Gt(t){let e=new Uint8Array(t);if("undefined"!==typeof globalThis.crypto)globalThis.crypto.getRandomValues(e);else for(let n=0;n<t;n++)e[n]=4294967296*Math.random()>>>0;return e}let Mt=null;function Tt(){return Mt||(Mt=new zt(function(){const t=Gt(32),e=new Uint32Array(t.buffer),n=[];for(let i=0;i<8;i++)n.push(e[i]);return n}()),Mt)}class Ut{constructor(t,e,n){this.F=e,this.G=t,this.opMulGF=n;let i=e.sqrt_t||e.t,s=e.sqrt_s||e.s,r=e.one;for(;e.eq(e.pow(r,e.half),e.one);)r=e.add(r,e.one);this.w=new Array(s+1),this.wi=new Array(s+1),this.w[s]=this.F.pow(r,i),this.wi[s]=this.F.inv(this.w[s]);let o=s-1;for(;o>=0;)this.w[o]=this.F.square(this.w[o+1]),this.wi[o]=this.F.square(this.wi[o+1]),o--;this.roots=[],this._setRoots(Math.min(s,15))}_setRoots(t){for(let e=t;e>=0&&!this.roots[e];e--){let t=this.F.one;const n=1<<e,i=new Array(n);for(let s=0;s<n;s++)i[s]=t,t=this.F.mul(t,this.w[e]);this.roots[e]=i}}fft(t){if(t.length<=1)return t;const e=Rt(t.length-1)+1;this._setRoots(e);const n=1<<e;if(t.length!=n)throw new Error("Size must be multiple of 2");return Ct(this,t,e,0,1)}ifft(t){if(t.length<=1)return t;const e=Rt(t.length-1)+1;this._setRoots(e);const n=1<<e;if(t.length!=n)throw new Error("Size must be multiple of 2");const i=Ct(this,t,e,0,1),s=this.F.inv(this.F.mulScalar(this.F.one,n)),r=new Array(n);for(let o=0;o<n;o++)r[o]=this.opMulGF(i[(n-o)%n],s);return r}}function Rt(t){return(0!==(4294901760&t)?(t&=4294901760,16):0)|(0!==(4278255360&t)?(t&=4278255360,8):0)|(0!==(4042322160&t)?(t&=4042322160,4):0)|(0!==(3435973836&t)?(t&=3435973836,2):0)|0!==(2863311530&t)}function Ct(t,e,n,i,s){const r=1<<n;if(1==r)return[e[i]];if(2==r)return[t.G.add(e[i],e[i+s]),t.G.sub(e[i],e[i+s])];const o=r>>1,h=Ct(t,e,n-1,i,2*s),f=Ct(t,e,n-1,i+s,2*s),u=new Array(r);for(let a=0;a<o;a++)u[a]=t.G.add(h[a],t.opMulGF(f[a],t.roots[n][a])),u[a+o]=t.G.sub(h[a],t.opMulGF(f[a],t.roots[n][a]));return u}var Nt=Object.freeze({__proto__:null,default:Ut});class jt{constructor(t){this.type="F1",this.one=BigInt(1),this.zero=BigInt(0),this.p=BigInt(t),this.m=1,this.negone=this.p-this.one,this.two=BigInt(2),this.half=this.p>>this.one,this.bitLength=j(this.p),this.mask=(this.one<<BigInt(this.bitLength))-this.one,this.n64=Math.floor((this.bitLength-1)/64)+1,this.n32=2*this.n64,this.n8=8*this.n64,this.R=this.e(this.one<<BigInt(64*this.n64)),this.Ri=this.inv(this.R);const e=this.negone>>this.one;this.nqr=this.two;let n=this.pow(this.nqr,e);for(;!this.eq(n,this.negone);)this.nqr=this.nqr+this.one,n=this.pow(this.nqr,e);for(this.s=0,this.t=this.negone;(this.t&this.one)==this.zero;)this.s=this.s+1,this.t=this.t>>this.one;this.nqr_to_t=this.pow(this.nqr,this.t),It(this),this.FFT=new Ut(this,this,this.mul.bind(this)),this.shift=this.square(this.nqr)}e(t,e){let n;if(e?16==e&&(n=BigInt("0x"+t)):n=BigInt(t),n<0){let t=-n;return t>=this.p&&(t%=this.p),this.p-t}return n>=this.p?n%this.p:n}add(t,e){const n=t+e;return n>=this.p?n-this.p:n}sub(t,e){return t>=e?t-e:this.p-e+t}neg(t){return t?this.p-t:t}mul(t,e){return t*e%this.p}mulScalar(t,e){return t*this.e(e)%this.p}square(t){return t*t%this.p}eq(t,e){return t==e}neq(t,e){return t!=e}lt(t,e){return(t>this.half?t-this.p:t)<(e>this.half?e-this.p:e)}gt(t,e){return(t>this.half?t-this.p:t)>(e>this.half?e-this.p:e)}leq(t,e){return(t>this.half?t-this.p:t)<=(e>this.half?e-this.p:e)}geq(t,e){return(t>this.half?t-this.p:t)>=(e>this.half?e-this.p:e)}div(t,e){return this.mul(t,this.inv(e))}idiv(t,e){if(!e)throw new Error("Division by zero");return t/e}inv(t){if(!t)throw new Error("Division by zero");let e=this.zero,n=this.p,i=this.one,s=t%this.p;for(;s;){let t=n/s;[e,i]=[i,e-t*i],[n,s]=[s,n-t*s]}return e<this.zero&&(e+=this.p),e}mod(t,e){return t%e}pow(t,e){return xt(this,t,e)}exp(t,e){return xt(this,t,e)}band(t,e){const n=t&e&this.mask;return n>=this.p?n-this.p:n}bor(t,e){const n=(t|e)&this.mask;return n>=this.p?n-this.p:n}bxor(t,e){const n=(t^e)&this.mask;return n>=this.p?n-this.p:n}bnot(t){const e=t^this.mask;return e>=this.p?e-this.p:e}shl(t,e){if(Number(e)<this.bitLength){const n=t<<e&this.mask;return n>=this.p?n-this.p:n}{const n=this.p-e;return Number(n)<this.bitLength?t>>n:this.zero}}shr(t,e){if(Number(e)<this.bitLength)return t>>e;{const n=this.p-e;if(Number(n)<this.bitLength){const e=t<<n&this.mask;return e>=this.p?e-this.p:e}return 0}}land(t,e){return t&&e?this.one:this.zero}lor(t,e){return t||e?this.one:this.zero}lnot(t){return t?this.zero:this.one}sqrt_old(t){if(t==this.zero)return this.zero;if(this.pow(t,this.negone>>this.one)!=this.one)return null;let e=this.s,n=this.nqr_to_t,i=this.pow(t,this.t),s=this.pow(t,this.add(this.t,this.one)>>this.one);for(;i!=this.one;){let t=this.square(i),r=1;for(;t!=this.one;)r++,t=this.square(t);let o=n;for(let n=0;n<e-r-1;n++)o=this.square(o);e=r,n=this.square(o),i=this.mul(i,n),s=this.mul(s,o)}return s>this.p>>this.one&&(s=this.neg(s)),s}normalize(t,e){if((t=BigInt(t,e))<0){let e=-t;return e>=this.p&&(e%=this.p),this.p-e}return t>=this.p?t%this.p:t}random(){const t=2*this.bitLength/8;let e=this.zero;for(let n=0;n<t;n++)e=(e<<BigInt(8))+BigInt(Gt(1)[0]);return e%this.p}toString(t,e){let n;if(e=e||10,t>this.half&&10==e){n="-"+(this.p-t).toString(e)}else n=t.toString(e);return n}isZero(t){return t==this.zero}fromRng(t){let e;do{e=this.zero;for(let n=0;n<this.n64;n++)e+=t.nextU64()<<BigInt(64*n);e&=this.mask}while(e>=this.p);return e=e*this.Ri%this.p,e}fft(t){return this.FFT.fft(t)}ifft(t){return this.FFT.ifft(t)}}class kt{constructor(t){this.type="F1",this.one=u.default.one,this.zero=u.default.zero,this.p=u.default(t),this.m=1,this.negone=this.p.minus(u.default.one),this.two=u.default(2),this.half=this.p.shiftRight(1),this.bitLength=this.p.bitLength(),this.mask=u.default.one.shiftLeft(this.bitLength).minus(u.default.one),this.n64=Math.floor((this.bitLength-1)/64)+1,this.n32=2*this.n64,this.n8=8*this.n64,this.R=u.default.one.shiftLeft(64*this.n64),this.Ri=this.inv(this.R);const e=this.negone.shiftRight(this.one);this.nqr=this.two;let n=this.pow(this.nqr,e);for(;!n.equals(this.negone);)this.nqr=this.nqr.add(this.one),n=this.pow(this.nqr,e);for(this.s=this.zero,this.t=this.negone;!this.t.isOdd();)this.s=this.s.add(this.one),this.t=this.t.shiftRight(this.one);this.nqr_to_t=this.pow(this.nqr,this.t),It(this),this.FFT=new Nt(this,this,this.mul.bind(this)),this.shift=this.square(this.nqr)}e(t,e){const n=u.default(t,e);return this.normalize(n)}add(t,e){let n=t.add(e);return n.geq(this.p)&&(n=n.minus(this.p)),n}sub(t,e){return t.geq(e)?t.minus(e):this.p.minus(e.minus(t))}neg(t){return t.isZero()?t:this.p.minus(t)}mul(t,e){return t.times(e).mod(this.p)}mulScalar(t,e){return t.times(u.default(e)).mod(this.p)}square(t){return t.square().mod(this.p)}eq(t,e){return t.eq(e)}neq(t,e){return t.neq(e)}lt(t,e){const n=t.gt(this.half)?t.minus(this.p):t,i=e.gt(this.half)?e.minus(this.p):e;return n.lt(i)}gt(t,e){const n=t.gt(this.half)?t.minus(this.p):t,i=e.gt(this.half)?e.minus(this.p):e;return n.gt(i)}leq(t,e){const n=t.gt(this.half)?t.minus(this.p):t,i=e.gt(this.half)?e.minus(this.p):e;return n.leq(i)}geq(t,e){const n=t.gt(this.half)?t.minus(this.p):t,i=e.gt(this.half)?e.minus(this.p):e;return n.geq(i)}div(t,e){if(e.isZero())throw new Error("Division by zero");return t.times(e.modInv(this.p)).mod(this.p)}idiv(t,e){if(e.isZero())throw new Error("Division by zero");return t.divide(e)}inv(t){if(t.isZero())throw new Error("Division by zero");return t.modInv(this.p)}mod(t,e){return t.mod(e)}pow(t,e){return t.modPow(e,this.p)}exp(t,e){return t.modPow(e,this.p)}band(t,e){return t.and(e).and(this.mask).mod(this.p)}bor(t,e){return t.or(e).and(this.mask).mod(this.p)}bxor(t,e){return t.xor(e).and(this.mask).mod(this.p)}bnot(t){return t.xor(this.mask).mod(this.p)}shl(t,e){if(e.lt(this.bitLength))return t.shiftLeft(e).and(this.mask).mod(this.p);{const n=this.p.minus(e);return n.lt(this.bitLength)?this.shr(t,n):u.default.zero}}shr(t,e){if(e.lt(this.bitLength))return t.shiftRight(e);{const n=this.p.minus(e);return n.lt(this.bitLength)?this.shl(t,n):u.default.zero}}land(t,e){return t.isZero()||e.isZero()?u.default.zero:u.default.one}lor(t,e){return t.isZero()&&e.isZero()?u.default.zero:u.default.one}lnot(t){return t.isZero()?u.default.one:u.default.zero}sqrt_old(t){if(t.equals(this.zero))return this.zero;if(!this.pow(t,this.negone.shiftRight(this.one)).equals(this.one))return null;let e=parseInt(this.s),n=this.nqr_to_t,i=this.pow(t,this.t),s=this.pow(t,this.add(this.t,this.one).shiftRight(this.one));for(;!i.equals(this.one);){let t=this.square(i),r=1;for(;!t.equals(this.one);)r++,t=this.square(t);let o=n;for(let n=0;n<e-r-1;n++)o=this.square(o);e=r,n=this.square(o),i=this.mul(i,n),s=this.mul(s,o)}return s.greater(this.p.shiftRight(this.one))&&(s=this.neg(s)),s}normalize(t){return(t=u.default(t)).isNegative()?this.p.minus(t.abs().mod(this.p)):t.mod(this.p)}random(){let t=u.default(0),e=u.default(this.p.square());for(;!e.isZero();)t=t.shiftLeft(8).add(u.default(Gt(1)[0])),e=e.shiftRight(8);return t.mod(this.p)}toString(t,e){let n;if(e=e||10,t.lesserOrEquals(this.p.shiftRight(u.default(1)))||10!=e)n=t.toString(e);else{n="-"+this.p.minus(t).toString(e)}return n}isZero(t){return t.isZero()}fromRng(t){let e;do{e=u.default(0);for(let n=0;n<this.n64;n++)e=e.add(e,t.nextU64().shiftLeft(64*n));e=e.and(this.mask)}while(e.geq(this.p));return e=e.times(this.Ri).mod(this.q),e}fft(t){return this.FFT.fft(t)}ifft(t){return this.FFT.ifft(t)}}const $t="function"===typeof BigInt;let Pt;Pt=$t?jt:kt;class Zt extends Pt{toRprLE(t,e,n){x(t,e,n,8*this.n64)}toRprBE(t,e,n){I(t,e,n,8*this.n64)}toRprBEM(t,e,n){return this.toRprBE(t,e,this.mul(this.R,n))}toRprLEM(t,e,n){return this.toRprLE(t,e,this.mul(this.R,n))}fromRprLE(t,e){return S(t,e,this.n8)}fromRprBE(t,e){return z(t,e,this.n8)}fromRprLEM(t,e){return this.mul(this.fromRprLE(t,e),this.Ri)}fromRprBEM(t,e){return this.mul(this.fromRprBE(t,e),this.Ri)}toObject(t){return t}}function Jt(t,e){if(Array.isArray(e)){for(let n=e.length-1;n>=0;n--)if(!t.F.isZero(e[n]))return Jt(t.F,e[n]);return 0}{const n=t.neg(e);return lt(e,n)}}var Dt=Object.freeze({__proto__:null,stringifyBigInts:function t(e){if("bigint"==typeof e||void 0!==e.eq)return e.toString(10);if(e instanceof Uint8Array)return S(e,0);if(Array.isArray(e))return e.map(t);if("object"==typeof e){const n={};return Object.keys(e).forEach((i=>{n[i]=t(e[i])})),n}return e},unstringifyBigInts:function t(e){if("string"==typeof e&&/^[0-9]+$/.test(e))return BigInt(e);if("string"==typeof e&&/^0x[0-9a-fA-F]+$/.test(e))return BigInt(e);if(Array.isArray(e))return e.map(t);if("object"==typeof e){if(null===e)return null;const n={};return Object.keys(e).forEach((i=>{n[i]=t(e[i])})),n}return e},beBuff2int:function(t){let e=BigInt(0),n=t.length,i=0;const s=new DataView(t.buffer,t.byteOffset,t.byteLength);for(;n>0;)n>=4?(n-=4,e+=BigInt(s.getUint32(n))<<BigInt(8*i),i+=4):n>=2?(n-=2,e+=BigInt(s.getUint16(n))<<BigInt(8*i),i+=2):(n-=1,e+=BigInt(s.getUint8(n))<<BigInt(8*i),i+=1);return e},beInt2Buff:function(t,e){let n=t;const i=new Uint8Array(e),s=new DataView(i.buffer);let r=e;for(;r>0;)r-4>=0?(r-=4,s.setUint32(r,Number(n&BigInt(4294967295))),n>>=BigInt(32)):r-2>=0?(r-=2,s.setUint16(r,Number(n&BigInt(65535))),n>>=BigInt(16)):(r-=1,s.setUint8(r,Number(n&BigInt(255))),n>>=BigInt(8));if(n)throw new Error("Number does not fit in this length");return i},leBuff2int:function(t){let e=BigInt(0),n=0;const i=new DataView(t.buffer,t.byteOffset,t.byteLength);for(;n<t.length;)n+4<=t.length?(e+=BigInt(i.getUint32(n,!0))<<BigInt(8*n),n+=4):n+4<=t.length?(e+=BigInt(i.getUint16(n,!0))<<BigInt(8*n),n+=2):(e+=BigInt(i.getUint8(n,!0))<<BigInt(8*n),n+=1);return e},leInt2Buff:function(t,e){let n=t;"undefined"===typeof e&&0==(e=Math.floor((j(t)-1)/8)+1)&&(e=1);const i=new Uint8Array(e),s=new DataView(i.buffer);let r=0;for(;r<e;)r+4<=e?(s.setUint32(r,Number(n&BigInt(4294967295)),!0),r+=4,n>>=BigInt(32)):r+2<=e?(s.setUint16(Number(r,n&BigInt(65535)),!0),r+=2,n>>=BigInt(16)):(s.setUint8(Number(r,n&BigInt(255)),!0),r+=1,n>>=BigInt(8));if(n)throw new Error("Number does not fit in this length");return i},stringifyFElements:function t(e,n){if("bigint"==typeof n||void 0!==n.eq)return n.toString(10);if(n instanceof Uint8Array)return e.toString(e.e(n));if(Array.isArray(n))return n.map(t.bind(this,e));if("object"==typeof n){const i={};return Object.keys(n).forEach((s=>{i[s]=t(e,n[s])})),i}return n},unstringifyFElements:function t(e,n){if("string"==typeof n&&/^[0-9]+$/.test(n))return e.e(n);if("string"==typeof n&&/^0x[0-9a-fA-F]+$/.test(n))return e.e(n);if(Array.isArray(n))return n.map(t.bind(this,e));if("object"==typeof n){if(null===n)return null;const i={};return Object.keys(n).forEach((s=>{i[s]=t(e,n[s])})),i}return n}});var Qt=Object.freeze({__proto__:null,stringifyBigInts:function t(e){if("bigint"==typeof e||void 0!==e.eq)return e.toString(10);if(Array.isArray(e))return e.map(t);if("object"==typeof e){const n={};return Object.keys(e).forEach((i=>{n[i]=t(e[i])})),n}return e},unstringifyBigInts:function t(e){if("string"==typeof e&&/^[0-9]+$/.test(e))return u.default(e);if("string"==typeof e&&/^0x[0-9a-fA-F]+$/.test(e))return u.default(e);if(Array.isArray(e))return e.map(t);if("object"==typeof e){const n={};return Object.keys(e).forEach((i=>{n[i]=t(e[i])})),n}return e},beBuff2int:function(t){let e=u.default.zero;for(let n=0;n<t.length;n++){const i=u.default(t[t.length-n-1]);e=e.add(i.shiftLeft(8*n))}return e},beInt2Buff:function(t,e){let n=t,i=e-1;const s=new Uint8Array(e);for(;n.gt(u.default.zero)&&i>=0;){let t=Number(n.and(u.default("255")));s[i]=t,i--,n=n.shiftRight(8)}if(!n.eq(u.default.zero))throw new Error("Number does not fit in this length");return s},leBuff2int:function(t){let e=u.default.zero;for(let n=0;n<t.length;n++){const i=u.default(t[n]);e=e.add(i.shiftLeft(8*n))}return e},leInt2Buff:function(t,e){let n=t,i=0;const s=new Uint8Array(e);for(;n.gt(u.default.zero)&&i<s.length;){let t=Number(n.and(u.default(255)));s[i]=t,i++,n=n.shiftRight(8)}if(!n.eq(u.default.zero))throw new Error("Number does not fit in this length");return s}});let Wt={};"function"===typeof BigInt?Object.assign(Wt,Dt):Object.assign(Wt,Qt);const Vt=[];for(let Ue=0;Ue<256;Ue++)Vt[Ue]=Kt(Ue,8);function Kt(t,e){let n=0,i=t;for(let s=0;s<e;s++)n<<=1,n|=1&i,i>>=1;return n}Wt.bitReverse=function(t,e){return(Vt[t>>>24]|Vt[t>>>16&255]<<8|Vt[t>>>8&255]<<16|Vt[255&t]<<24)>>>32-e},Wt.log2=function(t){return(0!==(4294901760&t)?(t&=4294901760,16):0)|(0!==(4278255360&t)?(t&=4278255360,8):0)|(0!==(4042322160&t)?(t&=4042322160,4):0)|(0!==(3435973836&t)?(t&=3435973836,2):0)|0!==(2863311530&t)},Wt.buffReverseBits=function(t,e){const n=t.byteLength/e,i=Wt.log2(n);if(n!=1<<i)throw new Error("Invalid number of pointers");for(let s=0;s<n;s++){const n=Wt.bitReverse(s,i);if(s>n){const i=t.slice(s*e,(s+1)*e);t.set(t.slice(n*e,(n+1)*e),s*e),t.set(i,n*e)}}},Wt.array2buffer=function(t,e){const n=new Uint8Array(e*t.length);for(let i=0;i<t.length;i++)n.set(t[i],i*e);return n},Wt.buffer2array=function(t,e){const n=t.byteLength/e,i=new Array(n);for(let s=0;s<n;s++)i[s]=t.slice(s*e,s*e+e);return i};let{bitReverse:Xt,log2:Ht,buffReverseBits:Yt,stringifyBigInts:te,unstringifyBigInts:ee,beBuff2int:ne,beInt2Buff:ie,leBuff2int:se,leInt2Buff:re,array2buffer:oe,buffer2array:he,stringifyFElements:fe,unstringifyFElements:ue}=Wt;var ae=Object.freeze({__proto__:null,bitReverse:Xt,log2:Ht,buffReverseBits:Yt,stringifyBigInts:te,unstringifyBigInts:ee,beBuff2int:ne,beInt2Buff:ie,leBuff2int:se,leInt2Buff:re,array2buffer:oe,buffer2array:he,stringifyFElements:fe,unstringifyFElements:ue});const le=1<<30;class pe{constructor(t){this.buffers=[],this.byteLength=t;for(let e=0;e<t;e+=le){const n=Math.min(t-e,le);this.buffers.push(new Uint8Array(n))}}slice(t,e){void 0===e&&(e=this.byteLength),void 0===t&&(t=0);const n=e-t,i=Math.floor(t/le);if(i==Math.floor((t+n-1)/le)||0==n)return this.buffers[i].slice(t%le,t%le+n);let s,r=i,o=t%le,h=n;for(;h>0;){const t=o+h>le?le-o:h,e=new Uint8Array(this.buffers[r].buffer,this.buffers[r].byteOffset+o,t);if(t==n)return e.slice();s||(s=n<=le?new Uint8Array(n):new pe(n)),s.set(e,n-h),h-=t,r++,o=0}return s}set(t,e){void 0===e&&(e=0);const n=t.byteLength;if(0==n)return;const i=Math.floor(e/le);if(i==Math.floor((e+n-1)/le))return t instanceof pe&&1==t.buffers.length?this.buffers[i].set(t.buffers[0],e%le):this.buffers[i].set(t,e%le);let s=i,r=e%le,o=n;for(;o>0;){const e=r+o>le?le-r:o,i=t.slice(n-o,n-o+e);new Uint8Array(this.buffers[s].buffer,this.buffers[s].byteOffset+r,e).set(i),o-=e,s++,r=0}}}function ce(t,e,n,i){return async function(s){const r=Math.floor(s.byteLength/n);if(r*n!==s.byteLength)throw new Error("Invalid buffer size");const o=Math.floor(r/t.concurrency),h=[];for(let l=0;l<t.concurrency;l++){let f;if(f=l<t.concurrency-1?o:r-l*o,0==f)continue;const u=[{cmd:"ALLOCSET",var:0,buff:s.slice(l*o*n,l*o*n+f*n)},{cmd:"ALLOC",var:1,len:i*f},{cmd:"CALL",fnName:e,params:[{var:0},{val:f},{var:1}]},{cmd:"GET",out:0,var:1,len:i*f}];h.push(t.queueAction(u))}const f=await Promise.all(h);let u;u=s instanceof pe?new pe(r*i):new Uint8Array(r*i);let a=0;for(let t=0;t<f.length;t++)u.set(f[t][0],a),a+=f[t][0].byteLength;return u}}class me{constructor(t,e,n,i){if(this.tm=t,this.prefix=e,this.p=i,this.n8=n,this.type="F1",this.m=1,this.half=Z(i,U),this.bitLength=j(i),this.mask=Y(P(U,this.bitLength),U),this.pOp1=t.alloc(n),this.pOp2=t.alloc(n),this.pOp3=t.alloc(n),this.tm.instance.exports[e+"_zero"](this.pOp1),this.zero=this.tm.getBuff(this.pOp1,this.n8),this.tm.instance.exports[e+"_one"](this.pOp1),this.one=this.tm.getBuff(this.pOp1,this.n8),this.negone=this.neg(this.one),this.two=this.add(this.one,this.one),this.n64=Math.floor(n/8),this.n32=Math.floor(n/4),8*this.n64!=this.n8)throw new Error("n8 must be a multiple of 8");this.half=Z(this.p,U),this.nqr=this.two;let s=this.exp(this.nqr,this.half);for(;!this.eq(s,this.negone);)this.nqr=this.add(this.nqr,this.one),s=this.exp(this.nqr,this.half);this.shift=this.mul(this.nqr,this.nqr),this.shiftInv=this.inv(this.shift),this.s=0;let r=Y(this.p,U);for(;!Q(r);)this.s=this.s+1,r=Z(r,U);this.w=[],this.w[this.s]=this.exp(this.nqr,r);for(let o=this.s-1;o>=0;o--)this.w[o]=this.square(this.w[o+1]);if(!this.eq(this.w[0],this.one))throw new Error("Error calculating roots of unity");this.batchToMontgomery=ce(t,e+"_batchToMontgomery",this.n8,this.n8),this.batchFromMontgomery=ce(t,e+"_batchFromMontgomery",this.n8,this.n8)}op2(t,e,n){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,n),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op2Bool(t,e,n){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,n),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2)}op1(t,e){return this.tm.setBuff(this.pOp1,e),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op1Bool(t,e){return this.tm.setBuff(this.pOp1,e),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3)}add(t,e){return this.op2("_add",t,e)}eq(t,e){return this.op2Bool("_eq",t,e)}isZero(t){return this.op1Bool("_isZero",t)}sub(t,e){return this.op2("_sub",t,e)}neg(t){return this.op1("_neg",t)}inv(t){return this.op1("_inverse",t)}toMontgomery(t){return this.op1("_toMontgomery",t)}fromMontgomery(t){return this.op1("_fromMontgomery",t)}mul(t,e){return this.op2("_mul",t,e)}div(t,e){return this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[this.prefix+"_inverse"](this.pOp2,this.pOp2),this.tm.instance.exports[this.prefix+"_mul"](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}square(t){return this.op1("_square",t)}isSquare(t){return this.op1Bool("_isSquare",t)}sqrt(t){return this.op1("_sqrt",t)}exp(t,e){return e instanceof Uint8Array||(e=M(C(e))),this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[this.prefix+"_exp"](this.pOp1,this.pOp2,e.byteLength,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}isNegative(t){return this.op1Bool("_isNegative",t)}e(t,e){if(t instanceof Uint8Array)return t;let n=C(t,e);k(n)?(n=tt(n),lt(n,this.p)&&(n=ht(n,this.p)),n=Y(this.p,n)):lt(n,this.p)&&(n=ht(n,this.p));const i=re(n,this.n8);return this.toMontgomery(i)}toString(t,e){const n=this.fromMontgomery(t),i=S(n,0);return G(i,e)}fromRng(t){let e;const n=new Uint8Array(this.n8);do{e=T;for(let n=0;n<this.n64;n++)e=H(e,P(t.nextU64(),64*n));e=mt(e,this.mask)}while(ct(e,this.p));return x(n,0,e,this.n8),n}random(){return this.fromRng(Tt())}toObject(t){const e=this.fromMontgomery(t);return S(e,0)}fromObject(t){const e=new Uint8Array(this.n8);return x(e,0,t,this.n8),this.toMontgomery(e)}toRprLE(t,e,n){t.set(this.fromMontgomery(n),e)}toRprBE(t,e,n){const i=this.fromMontgomery(n);for(let s=0;s<this.n8/2;s++){const t=i[s];i[s]=i[this.n8-1-s],i[this.n8-1-s]=t}t.set(i,e)}fromRprLE(t,e){e=e||0;const n=t.slice(e,e+this.n8);return this.toMontgomery(n)}async batchInverse(t){let e=!1;const n=this.n8,i=this.n8;Array.isArray(t)?(t=oe(t,n),e=!0):t=t.slice(0,t.byteLength);const s=Math.floor(t.byteLength/n);if(s*n!==t.byteLength)throw new Error("Invalid buffer size");const r=Math.floor(s/this.tm.concurrency),o=[];for(let a=0;a<this.tm.concurrency;a++){let e;if(e=a<this.tm.concurrency-1?r:s-a*r,0==e)continue;const h=[{cmd:"ALLOCSET",var:0,buff:t.slice(a*r*n,a*r*n+e*n)},{cmd:"ALLOC",var:1,len:i*e},{cmd:"CALL",fnName:this.prefix+"_batchInverse",params:[{var:0},{val:n},{val:e},{var:1},{val:i}]},{cmd:"GET",out:0,var:1,len:i*e}];o.push(this.tm.queueAction(h))}const h=await Promise.all(o);let f;f=t instanceof pe?new pe(s*i):new Uint8Array(s*i);let u=0;for(let a=0;a<h.length;a++)f.set(h[a][0],u),u+=h[a][0].byteLength;return e?he(f,i):f}}class ge{constructor(t,e,n){this.tm=t,this.prefix=e,this.F=n,this.type="F2",this.m=2*n.m,this.n8=2*this.F.n8,this.n32=2*this.F.n32,this.n64=2*this.F.n64,this.pOp1=t.alloc(2*n.n8),this.pOp2=t.alloc(2*n.n8),this.pOp3=t.alloc(2*n.n8),this.tm.instance.exports[e+"_zero"](this.pOp1),this.zero=t.getBuff(this.pOp1,this.n8),this.tm.instance.exports[e+"_one"](this.pOp1),this.one=t.getBuff(this.pOp1,this.n8),this.negone=this.neg(this.one),this.two=this.add(this.one,this.one)}op2(t,e,n){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,n),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op2Bool(t,e,n){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,n),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2)}op1(t,e){return this.tm.setBuff(this.pOp1,e),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op1Bool(t,e){return this.tm.setBuff(this.pOp1,e),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3)}add(t,e){return this.op2("_add",t,e)}eq(t,e){return this.op2Bool("_eq",t,e)}isZero(t){return this.op1Bool("_isZero",t)}sub(t,e){return this.op2("_sub",t,e)}neg(t){return this.op1("_neg",t)}inv(t){return this.op1("_inverse",t)}isNegative(t){return this.op1Bool("_isNegative",t)}toMontgomery(t){return this.op1("_toMontgomery",t)}fromMontgomery(t){return this.op1("_fromMontgomery",t)}mul(t,e){return this.op2("_mul",t,e)}mul1(t,e){return this.op2("_mul1",t,e)}div(t,e){return this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[this.prefix+"_inverse"](this.pOp2,this.pOp2),this.tm.instance.exports[this.prefix+"_mul"](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}square(t){return this.op1("_square",t)}isSquare(t){return this.op1Bool("_isSquare",t)}sqrt(t){return this.op1("_sqrt",t)}exp(t,e){return e instanceof Uint8Array||(e=M(C(e))),this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[this.prefix+"_exp"](this.pOp1,this.pOp2,e.byteLength,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}e(t,e){if(t instanceof Uint8Array)return t;if(Array.isArray(t)&&2==t.length){const n=this.F.e(t[0],e),i=this.F.e(t[1],e),s=new Uint8Array(2*this.F.n8);return s.set(n),s.set(i,2*this.F.n8),s}throw new Error("invalid F2")}toString(t,e){return`[${this.F.toString(t.slice(0,this.F.n8),e)}, ${this.F.toString(t.slice(this.F.n8),e)}]`}fromRng(t){const e=this.F.fromRng(t),n=this.F.fromRng(t),i=new Uint8Array(2*this.F.n8);return i.set(e),i.set(n,this.F.n8),i}random(){return this.fromRng(Tt())}toObject(t){return[this.F.toObject(t.slice(0,this.F.n8)),this.F.toObject(t.slice(this.F.n8,2*this.F.n8))]}fromObject(t){const e=new Uint8Array(2*this.F.n8),n=this.F.fromObject(t[0]),i=this.F.fromObject(t[1]);return e.set(n),e.set(i,this.F.n8),e}c1(t){return t.slice(0,this.F.n8)}c2(t){return t.slice(this.F.n8)}}class be{constructor(t,e,n){this.tm=t,this.prefix=e,this.F=n,this.type="F3",this.m=3*n.m,this.n8=3*this.F.n8,this.n32=3*this.F.n32,this.n64=3*this.F.n64,this.pOp1=t.alloc(3*n.n8),this.pOp2=t.alloc(3*n.n8),this.pOp3=t.alloc(3*n.n8),this.tm.instance.exports[e+"_zero"](this.pOp1),this.zero=t.getBuff(this.pOp1,this.n8),this.tm.instance.exports[e+"_one"](this.pOp1),this.one=t.getBuff(this.pOp1,this.n8),this.negone=this.neg(this.one),this.two=this.add(this.one,this.one)}op2(t,e,n){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,n),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op2Bool(t,e,n){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,n),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2)}op1(t,e){return this.tm.setBuff(this.pOp1,e),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op1Bool(t,e){return this.tm.setBuff(this.pOp1,e),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3)}eq(t,e){return this.op2Bool("_eq",t,e)}isZero(t){return this.op1Bool("_isZero",t)}add(t,e){return this.op2("_add",t,e)}sub(t,e){return this.op2("_sub",t,e)}neg(t){return this.op1("_neg",t)}inv(t){return this.op1("_inverse",t)}isNegative(t){return this.op1Bool("_isNegative",t)}toMontgomery(t){return this.op1("_toMontgomery",t)}fromMontgomery(t){return this.op1("_fromMontgomery",t)}mul(t,e){return this.op2("_mul",t,e)}div(t,e){return this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[this.prefix+"_inverse"](this.pOp2,this.pOp2),this.tm.instance.exports[this.prefix+"_mul"](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}square(t){return this.op1("_square",t)}isSquare(t){return this.op1Bool("_isSquare",t)}sqrt(t){return this.op1("_sqrt",t)}exp(t,e){return e instanceof Uint8Array||(e=M(C(e))),this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[this.prefix+"_exp"](this.pOp1,this.pOp2,e.byteLength,this.pOp3),this.getBuff(this.pOp3,this.n8)}e(t,e){if(t instanceof Uint8Array)return t;if(Array.isArray(t)&&3==t.length){const n=this.F.e(t[0],e),i=this.F.e(t[1],e),s=this.F.e(t[2],e),r=new Uint8Array(3*this.F.n8);return r.set(n),r.set(i,this.F.n8),r.set(s,2*this.F.n8),r}throw new Error("invalid F3")}toString(t,e){return`[${this.F.toString(t.slice(0,this.F.n8),e)}, ${this.F.toString(t.slice(this.F.n8,2*this.F.n8),e)}, ${this.F.toString(t.slice(2*this.F.n8),e)}]`}fromRng(t){const e=this.F.fromRng(t),n=this.F.fromRng(t),i=this.F.fromRng(t),s=new Uint8Array(3*this.F.n8);return s.set(e),s.set(n,this.F.n8),s.set(i,2*this.F.n8),s}random(){return this.fromRng(Tt())}toObject(t){return[this.F.toObject(t.slice(0,this.F.n8)),this.F.toObject(t.slice(this.F.n8,2*this.F.n8)),this.F.toObject(t.slice(2*this.F.n8,3*this.F.n8))]}fromObject(t){const e=new Uint8Array(3*this.F.n8),n=this.F.fromObject(t[0]),i=this.F.fromObject(t[1]),s=this.F.fromObject(t[2]);return e.set(n),e.set(i,this.F.n8),e.set(s,2*this.F.n8),e}c1(t){return t.slice(0,this.F.n8)}c2(t){return t.slice(this.F.n8,2*this.F.n8)}c3(t){return t.slice(2*this.F.n8)}}class de{constructor(t,e,n,i,s,r){this.tm=t,this.prefix=e,this.F=n,this.pOp1=t.alloc(3*n.n8),this.pOp2=t.alloc(3*n.n8),this.pOp3=t.alloc(3*n.n8),this.tm.instance.exports[e+"_zero"](this.pOp1),this.zero=this.tm.getBuff(this.pOp1,3*n.n8),this.tm.instance.exports[e+"_zeroAffine"](this.pOp1),this.zeroAffine=this.tm.getBuff(this.pOp1,2*n.n8),this.one=this.tm.getBuff(i,3*n.n8),this.g=this.one,this.oneAffine=this.tm.getBuff(i,2*n.n8),this.gAffine=this.oneAffine,this.b=this.tm.getBuff(s,n.n8),r&&(this.cofactor=M(r)),this.negone=this.neg(this.one),this.two=this.add(this.one,this.one),this.batchLEMtoC=ce(t,e+"_batchLEMtoC",2*n.n8,n.n8),this.batchLEMtoU=ce(t,e+"_batchLEMtoU",2*n.n8,2*n.n8),this.batchCtoLEM=ce(t,e+"_batchCtoLEM",n.n8,2*n.n8),this.batchUtoLEM=ce(t,e+"_batchUtoLEM",2*n.n8,2*n.n8),this.batchToJacobian=ce(t,e+"_batchToJacobian",2*n.n8,3*n.n8),this.batchToAffine=ce(t,e+"_batchToAffine",3*n.n8,2*n.n8)}op2(t,e,n){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,n),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,3*this.F.n8)}op2bool(t,e,n){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,n),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp2,this.pOp3)}op1(t,e){return this.tm.setBuff(this.pOp1,e),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3),this.tm.getBuff(this.pOp3,3*this.F.n8)}op1Affine(t,e){return this.tm.setBuff(this.pOp1,e),this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3),this.tm.getBuff(this.pOp3,2*this.F.n8)}op1Bool(t,e){return this.tm.setBuff(this.pOp1,e),!!this.tm.instance.exports[this.prefix+t](this.pOp1,this.pOp3)}add(t,e){if(t.byteLength==3*this.F.n8){if(e.byteLength==3*this.F.n8)return this.op2("_add",t,e);if(e.byteLength==2*this.F.n8)return this.op2("_addMixed",t,e);throw new Error("invalid point size")}if(t.byteLength==2*this.F.n8){if(e.byteLength==3*this.F.n8)return this.op2("_addMixed",e,t);if(e.byteLength==2*this.F.n8)return this.op2("_addAffine",t,e);throw new Error("invalid point size")}throw new Error("invalid point size")}sub(t,e){if(t.byteLength==3*this.F.n8){if(e.byteLength==3*this.F.n8)return this.op2("_sub",t,e);if(e.byteLength==2*this.F.n8)return this.op2("_subMixed",t,e);throw new Error("invalid point size")}if(t.byteLength==2*this.F.n8){if(e.byteLength==3*this.F.n8)return this.op2("_subMixed",e,t);if(e.byteLength==2*this.F.n8)return this.op2("_subAffine",t,e);throw new Error("invalid point size")}throw new Error("invalid point size")}neg(t){if(t.byteLength==3*this.F.n8)return this.op1("_neg",t);if(t.byteLength==2*this.F.n8)return this.op1Affine("_negAffine",t);throw new Error("invalid point size")}double(t){if(t.byteLength==3*this.F.n8)return this.op1("_double",t);if(t.byteLength==2*this.F.n8)return this.op1("_doubleAffine",t);throw new Error("invalid point size")}isZero(t){if(t.byteLength==3*this.F.n8)return this.op1Bool("_isZero",t);if(t.byteLength==2*this.F.n8)return this.op1Bool("_isZeroAffine",t);throw new Error("invalid point size")}timesScalar(t,e){let n;if(e instanceof Uint8Array||(e=M(C(e))),t.byteLength==3*this.F.n8)n=this.prefix+"_timesScalar";else{if(t.byteLength!=2*this.F.n8)throw new Error("invalid point size");n=this.prefix+"_timesScalarAffine"}return this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[n](this.pOp1,this.pOp2,e.byteLength,this.pOp3),this.tm.getBuff(this.pOp3,3*this.F.n8)}timesFr(t,e){let n;if(t.byteLength==3*this.F.n8)n=this.prefix+"_timesFr";else{if(t.byteLength!=2*this.F.n8)throw new Error("invalid point size");n=this.prefix+"_timesFrAffine"}return this.tm.setBuff(this.pOp1,t),this.tm.setBuff(this.pOp2,e),this.tm.instance.exports[n](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,3*this.F.n8)}eq(t,e){if(t.byteLength==3*this.F.n8){if(e.byteLength==3*this.F.n8)return this.op2bool("_eq",t,e);if(e.byteLength==2*this.F.n8)return this.op2bool("_eqMixed",t,e);throw new Error("invalid point size")}if(t.byteLength==2*this.F.n8){if(e.byteLength==3*this.F.n8)return this.op2bool("_eqMixed",e,t);if(e.byteLength==2*this.F.n8)return this.op2bool("_eqAffine",t,e);throw new Error("invalid point size")}throw new Error("invalid point size")}toAffine(t){if(t.byteLength==3*this.F.n8)return this.op1Affine("_toAffine",t);if(t.byteLength==2*this.F.n8)return t;throw new Error("invalid point size")}toJacobian(t){if(t.byteLength==3*this.F.n8)return t;if(t.byteLength==2*this.F.n8)return this.op1("_toJacobian",t);throw new Error("invalid point size")}toRprUncompressed(t,e,n){if(this.tm.setBuff(this.pOp1,n),n.byteLength==3*this.F.n8)this.tm.instance.exports[this.prefix+"_toAffine"](this.pOp1,this.pOp1);else if(n.byteLength!=2*this.F.n8)throw new Error("invalid point size");this.tm.instance.exports[this.prefix+"_LEMtoU"](this.pOp1,this.pOp1);const i=this.tm.getBuff(this.pOp1,2*this.F.n8);t.set(i,e)}fromRprUncompressed(t,e){const n=t.slice(e,e+2*this.F.n8);return this.tm.setBuff(this.pOp1,n),this.tm.instance.exports[this.prefix+"_UtoLEM"](this.pOp1,this.pOp1),this.tm.getBuff(this.pOp1,2*this.F.n8)}toRprCompressed(t,e,n){if(this.tm.setBuff(this.pOp1,n),n.byteLength==3*this.F.n8)this.tm.instance.exports[this.prefix+"_toAffine"](this.pOp1,this.pOp1);else if(n.byteLength!=2*this.F.n8)throw new Error("invalid point size");this.tm.instance.exports[this.prefix+"_LEMtoC"](this.pOp1,this.pOp1);const i=this.tm.getBuff(this.pOp1,this.F.n8);t.set(i,e)}fromRprCompressed(t,e){const n=t.slice(e,e+this.F.n8);return this.tm.setBuff(this.pOp1,n),this.tm.instance.exports[this.prefix+"_CtoLEM"](this.pOp1,this.pOp2),this.tm.getBuff(this.pOp2,2*this.F.n8)}toUncompressed(t){const e=new Uint8Array(2*this.F.n8);return this.toRprUncompressed(e,0,t),e}toRprLEM(t,e,n){if(n.byteLength!=2*this.F.n8){if(n.byteLength!=3*this.F.n8)throw new Error("invalid point size");{this.tm.setBuff(this.pOp1,n),this.tm.instance.exports[this.prefix+"_toAffine"](this.pOp1,this.pOp1);const i=this.tm.getBuff(this.pOp1,2*this.F.n8);t.set(i,e)}}else t.set(n,e)}fromRprLEM(t,e){return e=e||0,t.slice(e,e+2*this.F.n8)}toString(t,e){if(t.byteLength==3*this.F.n8){return`[ ${this.F.toString(t.slice(0,this.F.n8),e)}, ${this.F.toString(t.slice(this.F.n8,2*this.F.n8),e)}, ${this.F.toString(t.slice(2*this.F.n8),e)} ]`}if(t.byteLength==2*this.F.n8){return`[ ${this.F.toString(t.slice(0,this.F.n8),e)}, ${this.F.toString(t.slice(this.F.n8),e)} ]`}throw new Error("invalid point size")}isValid(t){if(this.isZero(t))return!0;const e=this.F,n=this.toAffine(t),i=n.slice(0,this.F.n8),s=n.slice(this.F.n8,2*this.F.n8),r=e.add(e.mul(e.square(i),i),this.b),o=e.square(s);return e.eq(r,o)}fromRng(t){const e=this.F;let n,i,s=[];do{s[0]=e.fromRng(t),n=t.nextBool(),i=e.add(e.mul(e.square(s[0]),s[0]),this.b)}while(!e.isSquare(i));s[1]=e.sqrt(i);n^e.isNegative(s[1])&&(s[1]=e.neg(s[1]));let r=new Uint8Array(2*this.F.n8);return r.set(s[0]),r.set(s[1],this.F.n8),this.cofactor&&(r=this.timesScalar(r,this.cofactor)),r}toObject(t){if(this.isZero(t))return[this.F.toObject(this.F.zero),this.F.toObject(this.F.one),this.F.toObject(this.F.zero)];const e=this.F.toObject(t.slice(0,this.F.n8)),n=this.F.toObject(t.slice(this.F.n8,2*this.F.n8));let i;return i=t.byteLength==3*this.F.n8?this.F.toObject(t.slice(2*this.F.n8,3*this.F.n8)):this.F.toObject(this.F.one),[e,n,i]}fromObject(t){const e=this.F.fromObject(t[0]),n=this.F.fromObject(t[1]);let i;if(i=3==t.length?this.F.fromObject(t[2]):this.F.one,this.F.isZero(i,this.F.one))return this.zeroAffine;if(this.F.eq(i,this.F.one)){const t=new Uint8Array(2*this.F.n8);return t.set(e),t.set(n,this.F.n8),t}{const t=new Uint8Array(3*this.F.n8);return t.set(e),t.set(n,this.F.n8),t.set(i,2*this.F.n8),t}}e(t){return t instanceof Uint8Array?t:this.fromObject(t)}x(t){return this.toAffine(t).slice(0,this.F.n8)}y(t){return this.toAffine(t).slice(this.F.n8)}}function ye(t){const e=32767;let n,i;async function s(t){const s=new Uint8Array(t.code),r=await WebAssembly.compile(s);i=new WebAssembly.Memory({initial:t.init,maximum:e}),n=await WebAssembly.instantiate(r,{env:{memory:i}})}function r(t){const n=new Uint32Array(i.buffer,0,1);for(;3&n[0];)n[0]++;const s=n[0];if(n[0]+=t,n[0]+t>i.buffer.byteLength){const s=i.buffer.byteLength/65536;let r=Math.floor((n[0]+t)/65536)+1;r>e&&(r=e),i.grow(r-s)}return s}function o(t){const e=r(t.byteLength);return f(e,t),e}function h(t,e){const n=new Uint8Array(i.buffer);return new Uint8Array(n.buffer,n.byteOffset+t,e)}function f(t,e){new Uint8Array(i.buffer).set(new Uint8Array(e),t)}function u(t){if("INIT"==t[0].cmd)return s(t[0]);const e={vars:[],out:[]},u=new Uint32Array(i.buffer,0,1)[0];for(let i=0;i<t.length;i++)switch(t[i].cmd){case"ALLOCSET":e.vars[t[i].var]=o(t[i].buff);break;case"ALLOC":e.vars[t[i].var]=r(t[i].len);break;case"SET":f(e.vars[t[i].var],t[i].buff);break;case"CALL":{const s=[];for(let n=0;n<t[i].params.length;n++){const r=t[i].params[n];"undefined"!==typeof r.var?s.push(e.vars[r.var]+(r.offset||0)):"undefined"!=typeof r.val&&s.push(r.val)}n.exports[t[i].fnName](...s);break}case"GET":e.out[t[i].out]=h(e.vars[t[i].var],t[i].len).slice();break;default:throw new Error("Invalid cmd")}return new Uint32Array(i.buffer,0,1)[0]=u,e.out}return t&&(t.onmessage=function(e){let n;if(n=e.data?e.data:e,"INIT"==n[0].cmd)s(n[0]).then((function(){t.postMessage(n.result)}));else if("TERMINATE"==n[0].cmd)t.close();else{const e=u(n);t.postMessage(e)}}),u}class we{constructor(){this.promise=new Promise(((t,e)=>{this.reject=e,this.resolve=t}))}}var ve;const Fe="data:application/javascript;base64,"+(ve="("+ye.toString()+")(self)",globalThis.btoa(ve));class Le{constructor(){this.actionQueue=[],this.oldPFree=0}startSyncOp(){if(0!=this.oldPFree)throw new Error("Sync operation in progress");this.oldPFree=this.u32[0]}endSyncOp(){if(0==this.oldPFree)throw new Error("No sync operation in progress");this.u32[0]=this.oldPFree,this.oldPFree=0}postAction(t,e,n,i){if(this.working[t])throw new Error("Posting a job t a working worker");return this.working[t]=!0,this.pendingDeferreds[t]=i||new we,this.workers[t].postMessage(e,n),this.pendingDeferreds[t].promise}processWorks(){for(let t=0;t<this.workers.length&&this.actionQueue.length>0;t++)if(0==this.working[t]){const e=this.actionQueue.shift();this.postAction(t,e.data,e.transfers,e.deferred)}}queueAction(t,e){const n=new we;if(this.singleThread){const e=this.taskManager(t);n.resolve(e)}else this.actionQueue.push({data:t,transfers:e,deferred:n}),this.processWorks();return n.promise}resetMemory(){this.u32[0]=this.initalPFree}allocBuff(t){const e=this.alloc(t.byteLength);return this.setBuff(e,t),e}getBuff(t,e){return this.u8.slice(t,t+e)}setBuff(t,e){this.u8.set(new Uint8Array(e),t)}alloc(t){for(;3&this.u32[0];)this.u32[0]++;const e=this.u32[0];return this.u32[0]+=t,e}async terminate(){for(let e=0;e<this.workers.length;e++)this.workers[e].postMessage([{cmd:"TERMINATE"}]);var t;await(t=200,new Promise((e=>setTimeout(e,t))))}}function Oe(t,e){const n=t[e],i=t.Fr,s=t.tm;t[e].batchApplyKey=async function(t,r,o,h,f){let u,a,l,p,c;if(h=h||"affine",f=f||"affine","G1"==e)"jacobian"==h?(l=3*n.F.n8,u="g1m_batchApplyKey"):(l=2*n.F.n8,u="g1m_batchApplyKeyMixed"),p=3*n.F.n8,"jacobian"==f?c=3*n.F.n8:(a="g1m_batchToAffine",c=2*n.F.n8);else if("G2"==e)"jacobian"==h?(l=3*n.F.n8,u="g2m_batchApplyKey"):(l=2*n.F.n8,u="g2m_batchApplyKeyMixed"),p=3*n.F.n8,"jacobian"==f?c=3*n.F.n8:(a="g2m_batchToAffine",c=2*n.F.n8);else{if("Fr"!=e)throw new Error("Invalid group: "+e);u="frm_batchApplyKey",l=n.n8,p=n.n8,c=n.n8}const m=Math.floor(t.byteLength/l),g=Math.floor(m/s.concurrency),b=[];o=i.e(o);let d=i.e(r);for(let e=0;e<s.concurrency;e++){let n;if(n=e<s.concurrency-1?g:m-e*g,0==n)continue;const r=[];r.push({cmd:"ALLOCSET",var:0,buff:t.slice(e*g*l,e*g*l+n*l)}),r.push({cmd:"ALLOCSET",var:1,buff:d}),r.push({cmd:"ALLOCSET",var:2,buff:o}),r.push({cmd:"ALLOC",var:3,len:n*Math.max(p,c)}),r.push({cmd:"CALL",fnName:u,params:[{var:0},{val:n},{var:1},{var:2},{var:3}]}),a&&r.push({cmd:"CALL",fnName:a,params:[{var:3},{val:n},{var:3}]}),r.push({cmd:"GET",out:0,var:3,len:n*c}),b.push(s.queueAction(r)),d=i.mul(d,i.exp(o,n))}const y=await Promise.all(b);let w;w=t instanceof pe?new pe(m*c):new Uint8Array(m*c);let v=0;for(let e=0;e<y.length;e++)w.set(y[e][0],v),v+=y[e][0].byteLength;return w}}const Be=[1,1,1,1,2,3,4,5,6,7,7,8,9,10,11,12,13,13,14,15,16,16,17,17,17,17,17,17,17,17,17,17];function Ae(t,e){const n=t[e],i=n.tm;async function s(t,i,s,r,o){if(!(t instanceof Uint8Array))throw r&&r.error(`${o} _multiExpChunk buffBases is not Uint8Array`),new Error(`${o} _multiExpChunk buffBases is not Uint8Array`);if(!(i instanceof Uint8Array))throw r&&r.error(`${o} _multiExpChunk buffScalars is not Uint8Array`),new Error(`${o} _multiExpChunk buffScalars is not Uint8Array`);let h,f;if(s=s||"affine","G1"==e)"affine"==s?(f="g1m_multiexpAffine_chunk",h=2*n.F.n8):(f="g1m_multiexp_chunk",h=3*n.F.n8);else{if("G2"!=e)throw new Error("Invalid group");"affine"==s?(f="g2m_multiexpAffine_chunk",h=2*n.F.n8):(f="g2m_multiexp_chunk",h=3*n.F.n8)}const u=Math.floor(t.byteLength/h);if(0==u)return n.zero;const a=Math.floor(i.byteLength/u);if(a*u!=i.byteLength)throw new Error("Scalar size does not match");const l=Be[Ht(u)],p=Math.floor((8*a-1)/l)+1,c=[];for(let e=0;e<p;e++){const s=[{cmd:"ALLOCSET",var:0,buff:t},{cmd:"ALLOCSET",var:1,buff:i},{cmd:"ALLOC",var:2,len:3*n.F.n8},{cmd:"CALL",fnName:f,params:[{var:0},{var:1},{val:a},{val:u},{val:e*l},{val:Math.min(8*a-e*l,l)},{var:2}]},{cmd:"GET",out:0,var:2,len:3*n.F.n8}];c.push(n.tm.queueAction(s))}const m=await Promise.all(c);let g=n.zero;for(let e=m.length-1;e>=0;e--){if(!n.isZero(g))for(let t=0;t<l;t++)g=n.double(g);g=n.add(g,m[e][0])}return g}async function r(t,r,o,h,f){const u=1<<22;let a;if("G1"==e)a="affine"==o?2*n.F.n8:3*n.F.n8;else{if("G2"!=e)throw new Error("Invalid group");a="affine"==o?2*n.F.n8:3*n.F.n8}const l=Math.floor(t.byteLength/a),p=Math.floor(r.byteLength/l);if(p*l!=r.byteLength)throw new Error("Scalar size does not match");const c=Be[Ht(l)],m=Math.floor((8*p-1)/c)+1;let g;g=Math.floor(l/(i.concurrency/m)),g>u&&(g=u),g<1024&&(g=1024);const b=[];for(let e=0;e<l;e+=g){h&&h.debug(`Multiexp start: ${f}: ${e}/${l}`);const n=Math.min(l-e,g),i=t.slice(e*a,(e+n)*a),u=r.slice(e*p,(e+n)*p);b.push(s(i,u,o,h,f).then((t=>(h&&h.debug(`Multiexp end: ${f}: ${e}/${l}`),t))))}const d=await Promise.all(b);let y=n.zero;for(let e=d.length-1;e>=0;e--)y=n.add(y,d[e]);return y}n.multiExp=async function(t,e,n,i){return await r(t,e,"jacobian",n,i)},n.multiExpAffine=async function(t,e,n,i){return await r(t,e,"affine",n,i)}}function _e(t,e){const n=t[e],i=t.Fr,s=n.tm;async function r(t,h,f,u,a,l){f=f||"affine",u=u||"affine";let p,c,m,g,b,d,y,w;"G1"==e?("affine"==f?(p=2*n.F.n8,g="g1m_batchToJacobian"):p=3*n.F.n8,c=3*n.F.n8,h&&(w="g1m_fftFinal"),y="g1m_fftJoin",d="g1m_fftMix","affine"==u?(m=2*n.F.n8,b="g1m_batchToAffine"):m=3*n.F.n8):"G2"==e?("affine"==f?(p=2*n.F.n8,g="g2m_batchToJacobian"):p=3*n.F.n8,c=3*n.F.n8,h&&(w="g2m_fftFinal"),y="g2m_fftJoin",d="g2m_fftMix","affine"==u?(m=2*n.F.n8,b="g2m_batchToAffine"):m=3*n.F.n8):"Fr"==e&&(p=n.n8,c=n.n8,m=n.n8,h&&(w="frm_fftFinal"),d="frm_fftMix",y="frm_fftJoin");let v=!1;Array.isArray(t)?(t=oe(t,p),v=!0):t=t.slice(0,t.byteLength);const F=t.byteLength/p,L=Ht(F);if(1<<L!=F)throw new Error("fft must be multiple of 2");if(L==i.s+1){let e;return e=h?await async function(t,e,n,s,h){let f,u;f=t.slice(0,t.byteLength/2),u=t.slice(t.byteLength/2,t.byteLength);const a=[];a.push(r(f,!0,e,"jacobian",s,h)),a.push(r(u,!0,e,"jacobian",s,h)),[f,u]=await Promise.all(a);const l=await o(f,u,"fftJoinExtInv",i.one,i.shiftInv,"jacobian",n,s,h);let p;p=l[0].byteLength>1<<28?new pe(2*l[0].byteLength):new Uint8Array(2*l[0].byteLength);return p.set(l[0]),p.set(l[1],l[0].byteLength),p}(t,f,u,a,l):await async function(t,e,n,s,h){let f,u;f=t.slice(0,t.byteLength/2),u=t.slice(t.byteLength/2,t.byteLength);const a=[];[f,u]=await o(f,u,"fftJoinExt",i.one,i.shift,e,"jacobian",s,h),a.push(r(f,!1,"jacobian",n,s,h)),a.push(r(u,!1,"jacobian",n,s,h));const l=await Promise.all(a);let p;p=l[0].byteLength>1<<28?new pe(2*l[0].byteLength):new Uint8Array(2*l[0].byteLength);return p.set(l[0]),p.set(l[1],l[0].byteLength),p}(t,f,u,a,l),v?he(e,m):e}let O,B,A;h&&(O=i.inv(i.e(F))),Yt(t,p);let _=Math.min(16384,F),q=F/_;for(;q<s.concurrency&&_>=16;)q*=2,_/=2;const E=Ht(_),x=[];for(let e=0;e<q;e++){a&&a.debug(`${l}: fft ${L} mix start: ${e}/${q}`);const n=[];n.push({cmd:"ALLOC",var:0,len:c*_});const i=t.slice(_*e*p,_*(e+1)*p);n.push({cmd:"SET",var:0,buff:i}),g&&n.push({cmd:"CALL",fnName:g,params:[{var:0},{val:_},{var:0}]});for(let t=1;t<=E;t++)n.push({cmd:"CALL",fnName:d,params:[{var:0},{val:_},{val:t}]});E==L?(w&&(n.push({cmd:"ALLOCSET",var:1,buff:O}),n.push({cmd:"CALL",fnName:w,params:[{var:0},{val:_},{var:1}]})),b&&n.push({cmd:"CALL",fnName:b,params:[{var:0},{val:_},{var:0}]}),n.push({cmd:"GET",out:0,var:0,len:_*m})):n.push({cmd:"GET",out:0,var:0,len:c*_}),x.push(s.queueAction(n).then((t=>(a&&a.debug(`${l}: fft ${L} mix end: ${e}/${q}`),t))))}A=await Promise.all(x);for(let e=0;e<q;e++)A[e]=A[e][0];for(let e=E+1;e<=L;e++){a&&a.debug(`${l}: fft  ${L}  join: ${e}/${L}`);const t=1<<L-e,n=q/t,r=[];for(let h=0;h<t;h++)for(let o=0;o<n/2;o++){const f=i.exp(i.w[e],o*_),u=i.w[e],p=h*n+o,g=h*n+o+n/2,d=[];d.push({cmd:"ALLOCSET",var:0,buff:A[p]}),d.push({cmd:"ALLOCSET",var:1,buff:A[g]}),d.push({cmd:"ALLOCSET",var:2,buff:f}),d.push({cmd:"ALLOCSET",var:3,buff:u}),d.push({cmd:"CALL",fnName:y,params:[{var:0},{var:1},{val:_},{var:2},{var:3}]}),e==L?(w&&(d.push({cmd:"ALLOCSET",var:4,buff:O}),d.push({cmd:"CALL",fnName:w,params:[{var:0},{val:_},{var:4}]}),d.push({cmd:"CALL",fnName:w,params:[{var:1},{val:_},{var:4}]})),b&&(d.push({cmd:"CALL",fnName:b,params:[{var:0},{val:_},{var:0}]}),d.push({cmd:"CALL",fnName:b,params:[{var:1},{val:_},{var:1}]})),d.push({cmd:"GET",out:0,var:0,len:_*m}),d.push({cmd:"GET",out:1,var:1,len:_*m})):(d.push({cmd:"GET",out:0,var:0,len:_*c}),d.push({cmd:"GET",out:1,var:1,len:_*c})),r.push(s.queueAction(d).then((i=>(a&&a.debug(`${l}: fft ${L} join  ${e}/${L}  ${h+1}/${t} ${o}/${n/2}`),i))))}const o=await Promise.all(r);for(let e=0;e<t;e++)for(let t=0;t<n/2;t++){const i=e*n+t,s=e*n+t+n/2,r=o.shift();A[i]=r[0],A[s]=r[1]}}if(B=t instanceof pe?new pe(F*m):new Uint8Array(F*m),h){B.set(A[0].slice((_-1)*m));let t=m;for(let e=q-1;e>0;e--)B.set(A[e],t),t+=_*m,delete A[e];B.set(A[0].slice(0,(_-1)*m),t),delete A[0]}else for(let e=0;e<q;e++)B.set(A[e],_*m*e),delete A[e];return v?he(B,m):B}async function o(t,r,o,h,f,u,a,l,p){let c,m,g,b,d,y;if("G1"==e)"affine"==u?(d=2*n.F.n8,m="g1m_batchToJacobian"):d=3*n.F.n8,y=3*n.F.n8,c="g1m_"+o,"affine"==a?(g="g1m_batchToAffine",b=2*n.F.n8):b=3*n.F.n8;else if("G2"==e)"affine"==u?(d=2*n.F.n8,m="g2m_batchToJacobian"):d=3*n.F.n8,c="g2m_"+o,y=3*n.F.n8,"affine"==a?(g="g2m_batchToAffine",b=2*n.F.n8):b=3*n.F.n8;else{if("Fr"!=e)throw new Error("Invalid group");d=i.n8,b=i.n8,y=i.n8,c="frm_"+o}if(t.byteLength!=r.byteLength)throw new Error("Invalid buffer size");const w=Math.floor(t.byteLength/d);if(w!=1<<Ht(w))throw new Error("Invalid number of points");let v=Math.floor(w/s.concurrency);v<16&&(v=16),v>65536&&(v=65536);const F=[];for(let e=0;e<w;e+=v){l&&l.debug(`${p}: fftJoinExt Start: ${e}/${w}`);const n=Math.min(w-e,v),o=i.mul(h,i.exp(f,e)),u=[],a=t.slice(e*d,(e+n)*d),L=r.slice(e*d,(e+n)*d);u.push({cmd:"ALLOC",var:0,len:y*n}),u.push({cmd:"SET",var:0,buff:a}),u.push({cmd:"ALLOC",var:1,len:y*n}),u.push({cmd:"SET",var:1,buff:L}),u.push({cmd:"ALLOCSET",var:2,buff:o}),u.push({cmd:"ALLOCSET",var:3,buff:f}),m&&(u.push({cmd:"CALL",fnName:m,params:[{var:0},{val:n},{var:0}]}),u.push({cmd:"CALL",fnName:m,params:[{var:1},{val:n},{var:1}]})),u.push({cmd:"CALL",fnName:c,params:[{var:0},{var:1},{val:n},{var:2},{var:3},{val:i.s}]}),g&&(u.push({cmd:"CALL",fnName:g,params:[{var:0},{val:n},{var:0}]}),u.push({cmd:"CALL",fnName:g,params:[{var:1},{val:n},{var:1}]})),u.push({cmd:"GET",out:0,var:0,len:n*b}),u.push({cmd:"GET",out:1,var:1,len:n*b}),F.push(s.queueAction(u).then((t=>(l&&l.debug(`${p}: fftJoinExt End: ${e}/${w}`),t))))}const L=await Promise.all(F);let O,B;w*b>1<<28?(O=new pe(w*b),B=new pe(w*b)):(O=new Uint8Array(w*b),B=new Uint8Array(w*b));let A=0;for(let e=0;e<L.length;e++)O.set(L[e][0],A),B.set(L[e][1],A),A+=L[e][0].byteLength;return[O,B]}n.fft=async function(t,e,n,i,s){return await r(t,!1,e,n,i,s)},n.ifft=async function(t,e,n,i,s){return await r(t,!0,e,n,i,s)},n.lagrangeEvaluations=async function(t,s,h,f,u){let a;if(s=s||"affine",h=h||"affine","G1"==e)a="affine"==s?2*n.F.n8:3*n.F.n8;else if("G2"==e)a="affine"==s?2*n.F.n8:3*n.F.n8;else{if("Fr"!=e)throw new Error("Invalid group");a=i.n8}const l=t.byteLength/a,p=Ht(l);if(2**p*a!=t.byteLength)throw f&&f.error("lagrangeEvaluations iinvalid input size"),new Error("lagrangeEvaluations invalid Input size");if(p<=i.s)return await n.ifft(t,s,h,f,u);if(p>i.s+1)throw f&&f.error("lagrangeEvaluations input too big"),new Error("lagrangeEvaluations input too big");let c=t.slice(0,t.byteLength/2),m=t.slice(t.byteLength/2,t.byteLength);const g=i.exp(i.shift,l/2),b=i.inv(i.sub(i.one,g));[c,m]=await o(c,m,"prepareLagrangeEvaluation",b,i.shiftInv,s,"jacobian",f,u+" prep");const d=[];let y;return d.push(r(c,!0,"jacobian",h,f,u+" t0")),d.push(r(m,!0,"jacobian",h,f,u+" t1")),[c,m]=await Promise.all(d),y=c.byteLength>1<<28?new pe(2*c.byteLength):new Uint8Array(2*c.byteLength),y.set(c),y.set(m,c.byteLength),y},n.fftMix=async function(t){const r=3*n.F.n8;let o,h;if("G1"==e)o="g1m_fftMix",h="g1m_fftJoin";else if("G2"==e)o="g2m_fftMix",h="g2m_fftJoin";else{if("Fr"!=e)throw new Error("Invalid group");o="frm_fftMix",h="frm_fftJoin"}const f=Math.floor(t.byteLength/r),u=Ht(f);let a=1<<Ht(s.concurrency);f<=2*a&&(a=1);const l=f/a,p=Ht(l),c=[];for(let e=0;e<a;e++){const n=[],i=t.slice(e*l*r,(e+1)*l*r);n.push({cmd:"ALLOCSET",var:0,buff:i});for(let t=1;t<=p;t++)n.push({cmd:"CALL",fnName:o,params:[{var:0},{val:l},{val:t}]});n.push({cmd:"GET",out:0,var:0,len:l*r}),c.push(s.queueAction(n))}const m=await Promise.all(c),g=[];for(let e=0;e<m.length;e++)g[e]=m[e][0];for(let e=p+1;e<=u;e++){const t=1<<u-e,n=a/t,o=[];for(let u=0;u<t;u++)for(let t=0;t<n/2;t++){const f=i.exp(i.w[e],t*l),a=i.w[e],p=u*n+t,c=u*n+t+n/2,m=[];m.push({cmd:"ALLOCSET",var:0,buff:g[p]}),m.push({cmd:"ALLOCSET",var:1,buff:g[c]}),m.push({cmd:"ALLOCSET",var:2,buff:f}),m.push({cmd:"ALLOCSET",var:3,buff:a}),m.push({cmd:"CALL",fnName:h,params:[{var:0},{var:1},{val:l},{var:2},{var:3}]}),m.push({cmd:"GET",out:0,var:0,len:l*r}),m.push({cmd:"GET",out:1,var:1,len:l*r}),o.push(s.queueAction(m))}const f=await Promise.all(o);for(let e=0;e<t;e++)for(let t=0;t<n/2;t++){const i=e*n+t,s=e*n+t+n/2,r=f.shift();g[i]=r[0],g[s]=r[1]}}let b;b=t instanceof pe?new pe(f*r):new Uint8Array(f*r);let d=0;for(let e=0;e<a;e++)b.set(g[e],d),d+=g[e].byteLength;return b},n.fftJoin=async function(t,r,o,h){const f=3*n.F.n8;let u;if("G1"==e)u="g1m_fftJoin";else if("G2"==e)u="g2m_fftJoin";else{if("Fr"!=e)throw new Error("Invalid group");u="frm_fftJoin"}if(t.byteLength!=r.byteLength)throw new Error("Invalid buffer size");const a=Math.floor(t.byteLength/f);if(a!=1<<Ht(a))throw new Error("Invalid number of points");let l=1<<Ht(s.concurrency);a<=2*l&&(l=1);const p=a/l,c=[];for(let e=0;e<l;e++){const n=[],a=i.mul(o,i.exp(h,e*p)),l=t.slice(e*p*f,(e+1)*p*f),m=r.slice(e*p*f,(e+1)*p*f);n.push({cmd:"ALLOCSET",var:0,buff:l}),n.push({cmd:"ALLOCSET",var:1,buff:m}),n.push({cmd:"ALLOCSET",var:2,buff:a}),n.push({cmd:"ALLOCSET",var:3,buff:h}),n.push({cmd:"CALL",fnName:u,params:[{var:0},{var:1},{val:p},{var:2},{var:3}]}),n.push({cmd:"GET",out:0,var:0,len:p*f}),n.push({cmd:"GET",out:1,var:1,len:p*f}),c.push(s.queueAction(n))}const m=await Promise.all(c);let g,b;t instanceof pe?(g=new pe(a*f),b=new pe(a*f)):(g=new Uint8Array(a*f),b=new Uint8Array(a*f));let d=0;for(let e=0;e<m.length;e++)g.set(m[e][0],d),b.set(m[e][1],d),d+=m[e][0].byteLength;return[g,b]},n.fftFinal=async function(t,i){const r=3*n.F.n8,o=2*n.F.n8;let h,f;if("G1"==e)h="g1m_fftFinal",f="g1m_batchToAffine";else{if("G2"!=e)throw new Error("Invalid group");h="g2m_fftFinal",f="g2m_batchToAffine"}const u=Math.floor(t.byteLength/r);if(u!=1<<Ht(u))throw new Error("Invalid number of points");const a=Math.floor(u/s.concurrency),l=[];for(let e=0;e<s.concurrency;e++){let n;if(n=e<s.concurrency-1?a:u-e*a,0==n)continue;const p=[],c=t.slice(e*a*r,(e*a+n)*r);p.push({cmd:"ALLOCSET",var:0,buff:c}),p.push({cmd:"ALLOCSET",var:1,buff:i}),p.push({cmd:"CALL",fnName:h,params:[{var:0},{val:n},{var:1}]}),p.push({cmd:"CALL",fnName:f,params:[{var:0},{val:n},{var:0}]}),p.push({cmd:"GET",out:0,var:0,len:n*o}),l.push(s.queueAction(p))}const p=await Promise.all(l);let c;c=t instanceof pe?new pe(u*o):new Uint8Array(u*o);let m=0;for(let e=p.length-1;e>=0;e--)c.set(p[e][0],m),m+=p[e][0].byteLength;return c}}async function qe(t){const e=await async function(t,e){const n=new Le;n.memory=new WebAssembly.Memory({initial:25}),n.u8=new Uint8Array(n.memory.buffer),n.u32=new Uint32Array(n.memory.buffer);const i=await WebAssembly.compile(t.code);if(n.instance=await WebAssembly.instantiate(i,{env:{memory:n.memory}}),n.singleThread=e,n.initalPFree=n.u32[0],n.pq=t.pq,n.pr=t.pr,n.pG1gen=t.pG1gen,n.pG1zero=t.pG1zero,n.pG2gen=t.pG2gen,n.pG2zero=t.pG2zero,n.pOneT=t.pOneT,e)n.code=t.code,n.taskManager=ye(),await n.taskManager([{cmd:"INIT",init:25,code:n.code.slice()}]),n.concurrency=1;else{let e;n.workers=[],n.pendingDeferreds=[],n.working=[],e="object"===typeof navigator&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:a.default.cpus().length,0==e&&(e=2),e>64&&(e=64),n.concurrency=e;for(let t=0;t<e;t++)n.workers[t]=new l.default(Fe),n.workers[t].addEventListener("message",s(t)),n.working[t]=!1;const i=[];for(let s=0;s<n.workers.length;s++){const e=t.code.slice();i.push(n.postAction(s,[{cmd:"INIT",init:25,code:e}],[e.buffer]))}await Promise.all(i)}return n;function s(t){return function(e){let i;i=e&&e.data?e.data:e,n.working[t]=!1,n.pendingDeferreds[t].resolve(i),n.processWorks()}}}(t.wasm,t.singleThread),n={};return n.q=C(t.wasm.q.toString()),n.r=C(t.wasm.r.toString()),n.name=t.name,n.tm=e,n.prePSize=t.wasm.prePSize,n.preQSize=t.wasm.preQSize,n.Fr=new me(e,"frm",t.n8r,t.r),n.F1=new me(e,"f1m",t.n8q,t.q),n.F2=new ge(e,"f2m",n.F1),n.G1=new de(e,"g1m",n.F1,t.wasm.pG1gen,t.wasm.pG1b,t.cofactorG1),n.G2=new de(e,"g2m",n.F2,t.wasm.pG2gen,t.wasm.pG2b,t.cofactorG2),n.F6=new be(e,"f6m",n.F2),n.F12=new ge(e,"ftm",n.F6),n.Gt=n.F12,Oe(n,"G1"),Oe(n,"G2"),Oe(n,"Fr"),Ae(n,"G1"),Ae(n,"G2"),_e(n,"G1"),_e(n,"G2"),_e(n,"Fr"),function(t){const e=t.tm;t.pairing=function(n,i){e.startSyncOp();const s=e.allocBuff(t.G1.toJacobian(n)),r=e.allocBuff(t.G2.toJacobian(i)),o=e.alloc(t.Gt.n8);e.instance.exports[t.name+"_pairing"](s,r,o);const h=e.getBuff(o,t.Gt.n8);return e.endSyncOp(),h},t.pairingEq=async function(){let n,i;arguments.length%2==1?(n=arguments[arguments.length-1],i=(arguments.length-1)/2):(n=t.Gt.one,i=arguments.length/2);const s=[];for(let u=0;u<i;u++){const n=[],i=t.G1.toJacobian(arguments[2*u]);n.push({cmd:"ALLOCSET",var:0,buff:i}),n.push({cmd:"ALLOC",var:1,len:t.prePSize});const r=t.G2.toJacobian(arguments[2*u+1]);n.push({cmd:"ALLOCSET",var:2,buff:r}),n.push({cmd:"ALLOC",var:3,len:t.preQSize}),n.push({cmd:"ALLOC",var:4,len:t.Gt.n8}),n.push({cmd:"CALL",fnName:t.name+"_prepareG1",params:[{var:0},{var:1}]}),n.push({cmd:"CALL",fnName:t.name+"_prepareG2",params:[{var:2},{var:3}]}),n.push({cmd:"CALL",fnName:t.name+"_millerLoop",params:[{var:1},{var:3},{var:4}]}),n.push({cmd:"GET",out:0,var:4,len:t.Gt.n8}),s.push(e.queueAction(n))}const r=await Promise.all(s);e.startSyncOp();const o=e.alloc(t.Gt.n8);e.instance.exports.ftm_one(o);for(let t=0;t<r.length;t++){const n=e.allocBuff(r[t][0]);e.instance.exports.ftm_mul(o,n,o)}e.instance.exports[t.name+"_finalExponentiation"](o,o);const h=e.allocBuff(n),f=!!e.instance.exports.ftm_eq(o,h);return e.endSyncOp(),f},t.prepareG1=function(t){this.tm.startSyncOp();const e=this.tm.allocBuff(t),n=this.tm.alloc(this.prePSize);this.tm.instance.exports[this.name+"_prepareG1"](e,n);const i=this.tm.getBuff(n,this.prePSize);return this.tm.endSyncOp(),i},t.prepareG2=function(t){this.tm.startSyncOp();const e=this.tm.allocBuff(t),n=this.tm.alloc(this.preQSize);this.tm.instance.exports[this.name+"_prepareG2"](e,n);const i=this.tm.getBuff(n,this.preQSize);return this.tm.endSyncOp(),i},t.millerLoop=function(t,e){this.tm.startSyncOp();const n=this.tm.allocBuff(t),i=this.tm.allocBuff(e),s=this.tm.alloc(this.Gt.n8);this.tm.instance.exports[this.name+"_millerLoop"](n,i,s);const r=this.tm.getBuff(s,this.Gt.n8);return this.tm.endSyncOp(),r},t.finalExponentiation=function(t){this.tm.startSyncOp();const e=this.tm.allocBuff(t),n=this.tm.alloc(this.Gt.n8);this.tm.instance.exports[this.name+"_finalExponentiation"](e,n);const i=this.tm.getBuff(n,this.Gt.n8);return this.tm.endSyncOp(),i}}(n),n.array2buffer=function(t,e){const n=new Uint8Array(e*t.length);for(let i=0;i<t.length;i++)n.set(t[i],i*e);return n},n.buffer2array=function(t,e){const n=t.byteLength/e,i=new Array(n);for(let s=0;s<n;s++)i[s]=t.slice(s*e,s*e+e);return i},n}async function Ee(t,e){const n=new h.ModuleBuilder;n.setMemory(25),s.buildBn128(n),e&&e(n);const i={};if(i.code=n.build(),i.pq=n.modules.f1m.pq,i.pr=n.modules.frm.pq,i.pG1gen=n.modules.bn128.pG1gen,i.pG1zero=n.modules.bn128.pG1zero,i.pG1b=n.modules.bn128.pG1b,i.pG2gen=n.modules.bn128.pG2gen,i.pG2zero=n.modules.bn128.pG2zero,i.pG2b=n.modules.bn128.pG2b,i.pOneT=n.modules.bn128.pOneT,i.prePSize=n.modules.bn128.prePSize,i.preQSize=n.modules.bn128.preQSize,i.n8q=32,i.n8r=32,i.q=n.modules.bn128.q,i.r=n.modules.bn128.r,!t&&globalThis.curve_bn128)return globalThis.curve_bn128;const r={name:"bn128",wasm:i,q:C("21888242871839275222246405745257275088696311157297823662689037894645226208583"),r:C("21888242871839275222246405745257275088548364400416034343698204186575808495617"),n8q:32,n8r:32,cofactorG2:C("30644e72e131a029b85045b68181585e06ceecda572a2489345f2299c0f9fa8d",16),singleThread:!!t},o=await qe(r);return o.terminate=async function(){r.singleThread||(globalThis.curve_bn128=null,await this.tm.terminate())},t||(globalThis.curve_bn128=o),o}async function xe(t,e){const n=new h.ModuleBuilder;n.setMemory(25),s.buildBls12381(n),e&&e(n);const i={};if(i.code=n.build(),i.pq=n.modules.f1m.pq,i.pr=n.modules.frm.pq,i.pG1gen=n.modules.bls12381.pG1gen,i.pG1zero=n.modules.bls12381.pG1zero,i.pG1b=n.modules.bls12381.pG1b,i.pG2gen=n.modules.bls12381.pG2gen,i.pG2zero=n.modules.bls12381.pG2zero,i.pG2b=n.modules.bls12381.pG2b,i.pOneT=n.modules.bls12381.pOneT,i.prePSize=n.modules.bls12381.prePSize,i.preQSize=n.modules.bls12381.preQSize,i.n8q=48,i.n8r=32,i.q=n.modules.bls12381.q,i.r=n.modules.bls12381.r,!t&&globalThis.curve_bls12381)return globalThis.curve_bls12381;const r={name:"bls12381",wasm:i,q:C("1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab",16),r:C("73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001",16),n8q:48,n8r:32,cofactorG1:C("0x396c8c005555e1568c00aaab0000aaab",16),cofactorG2:C("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5",16),singleThread:!!t},o=await qe(r);return o.terminate=async function(){r.singleThread||(globalThis.curve_bls12381=null,await this.tm.terminate())},t||(globalThis.curve_bls12381=o),o}globalThis.curve_bn128=null,globalThis.curve_bls12381=null;const Ie=C("73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001",16),Se=C("21888242871839275222246405745257275088548364400416034343698204186575808495617"),ze=C("1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab",16),Ge=C("21888242871839275222246405745257275088696311157297823662689037894645226208583");const Me=vt,Te=ae;e.FX=Zt,e.Ru=Me,e.ke=Zt,e.P6=Te}}]);